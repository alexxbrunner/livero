# Internationalization (i18n) Implementation

## Overview
Complete internationalization system for Livaro with support for multiple languages. Currently includes English, German (Deutsch), and Slovak (Slovenƒçina) with idiomatic translations.

## Supported Languages

| Language | Code | Native Name | Flag |
|----------|------|-------------|------|
| English | `en` | English | üá¨üáß |
| German | `de` | Deutsch | üá©üá™ |
| Slovak | `sk` | Slovenƒçina | üá∏üá∞ |

## File Structure

```
/locales/
  ‚îú‚îÄ‚îÄ en.json     # English translations
  ‚îú‚îÄ‚îÄ de.json     # German translations (idiomatic)
  ‚îî‚îÄ‚îÄ sk.json     # Slovak translations (idiomatic)

/lib/
  ‚îî‚îÄ‚îÄ i18n.ts     # i18n configuration and utilities

/contexts/
  ‚îî‚îÄ‚îÄ I18nContext.tsx  # React context for i18n

/components/
  ‚îú‚îÄ‚îÄ Providers.tsx    # Updated with I18nProvider
  ‚îú‚îÄ‚îÄ LanguageSelector.tsx  # Language switcher component
  ‚îî‚îÄ‚îÄ Navbar.tsx       # Updated with translations
```

## Translation Files

All translation files follow the same structure for consistency:

### Structure
```json
{
  "nav": { ... },           // Navigation/header
  "auth": { ... },          // Authentication pages
  "onboarding": { ... },    // Store onboarding
  "search": { ... },        // Search functionality
  "team": { ... },          // Team management
  "common": { ... }         // Common/shared terms
}
```

### Translation Keys

#### Navigation (`nav`)
- `brand` - Brand name (LIVARO)
- `tagline` - Tagline
- `categories`, `cities`, `brands` - Menu items
- `about`, `contact`, `login`, `register`, `logout`
- `myFavorites`, `dashboard`, `adminPanel`
- `searchPlaceholder`
- `shipping`, `returns` - Top bar messages

#### Authentication (`auth`)
- `login.*` - Login page
- `register.*` - Registration page
- `forgotPassword.*` - Forgot password flow
- `resetPassword.*` - Reset password flow

#### Onboarding (`onboarding`)
- `welcome.*` - Welcome screen
- `connectStore.*` - Connect store step
- `choosePlan.*` - Choose plan step
- `steps.*` - Progress steps

#### Search (`search`)
- Product/brand/store labels
- Results formatting
- No results messages

#### Team Management (`team`)
- Team member actions
- Role descriptions
- Invitation flow

#### Common (`common`)
- Universal UI terms
- Button labels
- Status messages

## Usage

### 1. Basic Translation

```typescript
import { useI18n } from '@/contexts/I18nContext';

function MyComponent() {
  const { t } = useI18n();
  
  return <h1>{t('nav.brand')}</h1>;
}
```

### 2. Translations with Parameters

```typescript
const { t } = useI18n();

// Translation: "5 results for "chair""
t('search.results', { count: '5', query: 'chair' })

// Translation: "Enter a new password for email@example.com"
t('auth.resetPassword.subtitle', { email: 'email@example.com' })
```

### 3. Change Language

```typescript
const { locale, setLocale } = useI18n();

// Change to German
setLocale('de');

// Current locale
console.log(locale); // 'de'
```

### 4. Get All Translations

```typescript
const { translations } = useI18n();

// Access translations object directly
console.log(translations.nav.brand); // "LIVARO"
```

## Language Selector Component

The `LanguageSelector` component provides a dropdown menu for language switching:

### Features
- Flag icons for visual recognition
- Native language names
- Current language indicator (checkmark)
- Dropdown with hover states
- Persists selection to localStorage
- Responsive (shows flag only on mobile)

### Usage
```tsx
import LanguageSelector from '@/components/LanguageSelector';

<LanguageSelector />
```

### Styling
- Matches the luxury design system
- Border-based dropdown
- Smooth transitions
- Click-outside to close

## Persistence

Language preference is automatically saved to localStorage:

```typescript
// Saved as:
localStorage.setItem('locale', 'de');

// Loaded on mount:
const savedLocale = localStorage.getItem('locale');
```

## Translation Guidelines

### Idiomatic Translations

All translations are idiomatic and culturally appropriate:

#### English (en)
- Standard, professional English
- Clear and concise
- Business-appropriate terminology

#### German (de)
- Formal "Sie" form used throughout
- Proper German grammar and syntax
- Industry-standard e-commerce terminology
- Examples:
  - "Register" ‚Üí "Registrieren" (not "Anmelden")
  - "Dashboard" ‚Üí "Dashboard" (loan word, kept)
  - "Free shipping" ‚Üí "Kostenloser Versand"

#### Slovak (sk)
- Formal address form
- Natural Slovak expressions
- Slovak e-commerce conventions
- Examples:
  - "Premium Interiors" ‚Üí "Pr√©miov√Ω N√°bytok"
  - "Dashboard" ‚Üí "Prehƒæad" (translated to Slovak)
  - "Sign Out" ‚Üí "Odhl√°si≈• sa"

### Adding New Translations

1. **Add to English first** (`locales/en.json`)
2. **Translate idiomatically** to German and Slovak
3. **Maintain structure** across all files
4. **Use parameters** for dynamic content `{variable}`

Example:
```json
// en.json
"greeting": "Welcome, {name}!"

// de.json
"greeting": "Willkommen, {name}!"

// sk.json
"greeting": "Vitajte, {name}!"
```

## Components Already Translated

‚úÖ **Navbar**
- Brand name and tagline
- Navigation items
- Top bar messages
- User menu items

‚úÖ **Language Selector**
- Language options
- Native names
- Visual indicators

## Components To Translate

The following components should be updated to use translations:

### High Priority
- [ ] Login page (`/app/login/page.tsx`)
- [ ] Register page (`/app/register/page.tsx`)
- [ ] Forgot Password (`/app/forgot-password/page.tsx`)
- [ ] Reset Password (`/app/reset-password/page.tsx`)

### Medium Priority
- [ ] Store Onboarding (`/app/store-onboarding/page.tsx`)
- [ ] Search Results (`/app/search/page.tsx`)
- [ ] Team Management (`/app/store-dashboard/settings/page.tsx`)

### Low Priority
- [ ] Homepage content
- [ ] Footer
- [ ] Category pages
- [ ] Product pages
- [ ] Store pages

## Implementation Pattern

For each component to translate:

1. **Import the hook**:
```typescript
import { useI18n } from '@/contexts/I18nContext';
```

2. **Get the translation function**:
```typescript
const { t } = useI18n();
```

3. **Replace hardcoded strings**:
```typescript
// Before
<h1>Sign In</h1>

// After
<h1>{t('auth.login.title')}</h1>
```

4. **Handle dynamic content**:
```typescript
// Before
<p>Welcome back, {user.name}!</p>

// After
<p>{t('common.welcomeBack', { name: user.name })}</p>
```

## API & Backend

Backend responses remain in English for consistency. Translation happens on the frontend only.

### Error Messages
```typescript
// Backend sends
res.status(400).json({ error: 'Invalid email' })

// Frontend translates
const errorMessage = t(`errors.${error.code}`) || error.message;
```

## SEO Considerations

### Meta Tags
Each language should have proper meta tags:

```tsx
<head>
  <html lang={locale} />
  <title>{t('meta.title')}</title>
  <meta name="description" content={t('meta.description')} />
</head>
```

### URL Structure
Current: Single language per deployment
Future: Consider language-specific URLs:
- `/en/products`
- `/de/produkte`
- `/sk/produkty`

## Testing

### Manual Testing
1. Switch language in navbar
2. Verify all text updates
3. Check localStorage persistence
4. Reload page - language should persist
5. Test parameter replacement
6. Verify flag icons display correctly

### Test Checklist
- [ ] All languages load correctly
- [ ] Language persists on reload
- [ ] Parameters replace correctly
- [ ] No missing translations (fallback to key)
- [ ] Dropdown closes on click outside
- [ ] Mobile view shows flags only
- [ ] Desktop view shows names

## Adding a New Language

1. **Create translation file**:
```bash
touch locales/fr.json  # French example
```

2. **Copy structure from en.json**
3. **Translate all keys idiomatically**
4. **Update i18n.ts**:
```typescript
import fr from './locales/fr.json';

export const locales: LocaleConfig[] = [
  // ...existing languages
  { code: 'fr', name: 'French', nativeName: 'Fran√ßais', flag: 'üá´üá∑' },
];

const translations = {
  en, de, sk, fr
};
```

5. **Test thoroughly**

## Best Practices

### DO
‚úÖ Use idiomatic translations
‚úÖ Keep structure consistent across files
‚úÖ Use parameters for dynamic content
‚úÖ Test in all languages
‚úÖ Maintain cultural appropriateness
‚úÖ Use native language names

### DON'T
‚ùå Machine translate without review
‚ùå Mix formal and informal address
‚ùå Hard-code numbers or dates
‚ùå Assume word order is the same
‚ùå Forget to update all language files
‚ùå Use flags for language identification alone

## Performance

### Bundle Size
Each translation file is ~10-15KB:
- English: ~12KB
- German: ~14KB
- Slovak: ~13KB

Total: ~39KB for all languages

### Optimization
- Only active language loaded
- Stored in React context
- No network requests
- localStorage for persistence

## Browser Support

Compatible with all modern browsers:
- Chrome/Edge 90+
- Firefox 88+
- Safari 14+
- Mobile browsers

## Accessibility

- Language selector keyboard navigable
- Screen reader friendly
- ARIA labels included
- Semantic HTML used

## Future Enhancements

### Phase 2
- [ ] Right-to-left (RTL) language support
- [ ] Plural forms handling
- [ ] Date/time formatting per locale
- [ ] Number formatting per locale
- [ ] Currency display per locale

### Phase 3
- [ ] Language-specific URLs
- [ ] Automatic language detection
- [ ] Translation management UI
- [ ] Missing translation alerts
- [ ] A/B testing for translations

## Resources

- Translation files: `/locales/*.json`
- Configuration: `/lib/i18n.ts`
- Context: `/contexts/I18nContext.tsx`
- Component: `/components/LanguageSelector.tsx`

## Support

For translation issues or questions:
1. Check this documentation
2. Review translation files
3. Test in browser console
4. Verify localStorage state
5. Check for typos in keys

